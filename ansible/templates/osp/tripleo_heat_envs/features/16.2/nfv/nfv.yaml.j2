---
resource_registry:
  OS::TripleO::Services::NeutronSriovAgent: ../../deployment/neutron/neutron-sriov-agent-container-puppet.yaml                                                
  OS::TripleO::Services::NeutronSriovHostConfig: ../../deployment/deprecated/neutron/neutron-sriov-host-config.yaml 

parameter_defaults:
    NeutronNetworkVLANRanges: "sriov-1:472:472"
    ComputeSriovParameters:
        NovaPCIPassthrough:
          - devname: "ens1f0"
            trusted: "true"
            physical_network: "sriov-1"
        IsolCpusList: "0-80"
        NeutronPhysicalDevMappings: 
            - "sriov-1:ens1f0" 
    NeutronBridgeMappings: "sriov-1:br-sriov1"

    NovaSchedulerDefaultFilters:
    - "RetryFilter"
    - "AvailabilityZoneFilter"
    - "ComputeFilter"
    - "ComputeCapabilitiesFilter"
    - "ImagePropertiesFilter"
    - "ServerGroupAntiAffinityFilter"
    - "ServerGroupAffinityFilter"
    - "PciPassthroughFilter"
    - "NUMATopologyFilter"
    - "AggregateInstanceExtraSpecsFilter"

#openstackconfiggenerator.yaml.j2 handled by a condition at that file
